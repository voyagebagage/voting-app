{
    "sourceFile": "src/components/VotingApp.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 26,
            "patches": [
                {
                    "date": 1725288469032,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1725289632426,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useState, useEffect } from \"react\";\n-import { useAuth } from \"@/app/contexts/AuthContext\";\n+import { useAuth } from \"@/context/AuthContext\";\n \n interface Item {\n   id: string;\n   name: string;\n"
                },
                {
                    "date": 1725290519418,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,5 @@\n+import \"@/styles/telegram.css\";\n import React, { useState, useEffect } from \"react\";\n import { useAuth } from \"@/context/AuthContext\";\n \n interface Item {\n"
                },
                {
                    "date": 1725290626538,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -66,9 +66,9 @@\n       <h1 className=\"text-2xl font-bold mb-4\">Voting App</h1>\n       <select\n         value={selectedCategory}\n         onChange={(e) => setSelectedCategory(e.target.value)}\n-        className=\"mb-4 p-2 border rounded\">\n+        className=\"mb-4 tg-select w-full\">\n         <option value=\"\">Select a category</option>\n         {categories.map((category) => (\n           <option key={category} value={category}>\n             {category}\n"
                },
                {
                    "date": 1725290657860,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,15 +75,15 @@\n           </option>\n         ))}\n       </select>\n       {selectedCategory && (\n-        <div className=\"mb-4\">\n+        <div className=\"mb-4 flex\">\n           <input\n             type=\"text\"\n             value={newItemName}\n             onChange={(e) => setNewItemName(e.target.value)}\n             placeholder=\"New item name\"\n-            className=\"p-2 border rounded mr-2\"\n+            className=\"tg-input flex-grow mr-2\"\n           />\n           <button\n             onClick={handleAddItem}\n             className=\"p-2 bg-blue-500 text-white rounded\">\n"
                },
                {
                    "date": 1725290682587,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -81,9 +81,9 @@\n             type=\"text\"\n             value={newItemName}\n             onChange={(e) => setNewItemName(e.target.value)}\n             placeholder=\"New item name\"\n-            className=\"tg-input flex-grow mr-2\"\n+            className=\"tg-button tg-button-primary\"\n           />\n           <button\n             onClick={handleAddItem}\n             className=\"p-2 bg-blue-500 text-white rounded\">\n"
                },
                {
                    "date": 1725290735144,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -81,13 +81,13 @@\n             type=\"text\"\n             value={newItemName}\n             onChange={(e) => setNewItemName(e.target.value)}\n             placeholder=\"New item name\"\n-            className=\"tg-button tg-button-primary\"\n+            className=\"tg-input flex-grow mr-2\"\n           />\n           <button\n             onClick={handleAddItem}\n-            className=\"p-2 bg-blue-500 text-white rounded\">\n+            className=\"tg-button tg-button-primary\">\n             Add Item\n           </button>\n         </div>\n       )}\n"
                },
                {
                    "date": 1725290847223,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,17 +92,15 @@\n         </div>\n       )}\n       <ul>\n         {items.map((item) => (\n-          <li\n-            key={item.id}\n-            className=\"mb-2 p-2 border rounded flex justify-between items-center\">\n+          <li key={item.id} className=\"tg-list-item\">\n             <span>{item.name}</span>\n             <div>\n               <span className=\"mr-2\">Votes: {item.votes}</span>\n               <button\n                 onClick={() => handleVote(item.id)}\n-                className=\"p-1 bg-green-500 text-white rounded\">\n+                className=\"tg-button tg-button-primary\">\n                 Vote\n               </button>\n             </div>\n           </li>\n"
                },
                {
                    "date": 1725291058491,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,5 @@\n+\"use client\";\n import \"@/styles/telegram.css\";\n import React, { useState, useEffect } from \"react\";\n import { useAuth } from \"@/context/AuthContext\";\n \n"
                },
                {
                    "date": 1725291115522,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n \"use client\";\n-import \"@/styles/telegram.css\";\n+import \"@app/global.css\";\n import React, { useState, useEffect } from \"react\";\n import { useAuth } from \"@/context/AuthContext\";\n \n interface Item {\n"
                },
                {
                    "date": 1725291124662,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n \"use client\";\n-import \"@app/global.css\";\n+import \"@/app/global.css\";\n import React, { useState, useEffect } from \"react\";\n import { useAuth } from \"@/context/AuthContext\";\n \n interface Item {\n"
                },
                {
                    "date": 1725291133922,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n \"use client\";\n-import \"@/app/global.css\";\n+import \"@src/app/global.css\";\n import React, { useState, useEffect } from \"react\";\n import { useAuth } from \"@/context/AuthContext\";\n \n interface Item {\n"
                },
                {
                    "date": 1725291152535,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n \"use client\";\n-import \"@src/app/global.css\";\n+import \"@/global.css\";\n import React, { useState, useEffect } from \"react\";\n import { useAuth } from \"@/context/AuthContext\";\n \n interface Item {\n"
                },
                {
                    "date": 1725291183630,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n \"use client\";\n-import \"@/global.css\";\n+import \"@/app/global.css\";\n import React, { useState, useEffect } from \"react\";\n import { useAuth } from \"@/context/AuthContext\";\n \n interface Item {\n"
                },
                {
                    "date": 1725291248859,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n \"use client\";\n-import \"@/app/global.css\";\n+import \"@/styles/index.css\";\n import React, { useState, useEffect } from \"react\";\n import { useAuth } from \"@/context/AuthContext\";\n \n interface Item {\n"
                },
                {
                    "date": 1725291258640,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n \"use client\";\n-import \"@/styles/index.css\";\n+import '\"@/app/global.css\";';\n import React, { useState, useEffect } from \"react\";\n import { useAuth } from \"@/context/AuthContext\";\n \n interface Item {\n"
                },
                {
                    "date": 1725291275256,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n-\"use client\";\n import '\"@/app/global.css\";';\n+(\"use client\");\n import React, { useState, useEffect } from \"react\";\n import { useAuth } from \"@/context/AuthContext\";\n \n interface Item {\n"
                },
                {
                    "date": 1725291280920,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n+\"use client\";\n import '\"@/app/global.css\";';\n-(\"use client\");\n import React, { useState, useEffect } from \"react\";\n import { useAuth } from \"@/context/AuthContext\";\n \n interface Item {\n"
                },
                {
                    "date": 1725291287051,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n \"use client\";\n-import '\"@/app/global.css\";';\n+import \"@/app/global.css\";\n import React, { useState, useEffect } from \"react\";\n import { useAuth } from \"@/context/AuthContext\";\n \n interface Item {\n"
                },
                {
                    "date": 1725291378815,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,9 @@\n \"use client\";\n-import \"@/app/global.css\";\n import React, { useState, useEffect } from \"react\";\n import { useAuth } from \"@/context/AuthContext\";\n+import \"@/app/global.css\";\n+import { global } from \"styled-jsx/css\";\n \n interface Item {\n   id: string;\n   name: string;\n"
                },
                {
                    "date": 1725291396292,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n \"use client\";\n import React, { useState, useEffect } from \"react\";\n import { useAuth } from \"@/context/AuthContext\";\n-import \"@/app/global.css\";\n-import { global } from \"styled-jsx/css\";\n+import \"global.css\";\n+// import { global } from \"styled-jsx/css\";\n \n interface Item {\n   id: string;\n   name: string;\n"
                },
                {
                    "date": 1725291414188,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n \"use client\";\n import React, { useState, useEffect } from \"react\";\n import { useAuth } from \"@/context/AuthContext\";\n-import \"global.css\";\n+import \"../app/styles/telegram.css\";\n // import { global } from \"styled-jsx/css\";\n \n interface Item {\n   id: string;\n"
                },
                {
                    "date": 1725291432976,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n \"use client\";\n import React, { useState, useEffect } from \"react\";\n import { useAuth } from \"@/context/AuthContext\";\n-import \"../app/styles/telegram.css\";\n+import \"../app/global.css\";\n // import { global } from \"styled-jsx/css\";\n \n interface Item {\n   id: string;\n"
                },
                {
                    "date": 1725291459682,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n \"use client\";\n import React, { useState, useEffect } from \"react\";\n import { useAuth } from \"@/context/AuthContext\";\n-import \"../app/global.css\";\n+// import \"../app/global.css\";\n // import { global } from \"styled-jsx/css\";\n \n interface Item {\n   id: string;\n"
                },
                {
                    "date": 1725359097981,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,12 +12,21 @@\n }\n \n const VotingApp: React.FC = () => {\n   const [items, setItems] = useState<Item[]>([]);\n-  const [categories, setCategories] = useState<string[]>([]);\n+  const [categories, setCategories] = useState<string[]>([\n+    \"Croissant\",\n+    \"Pizza\",\n+    \"Coffee\",\n+    \"Pad Thai\",\n+  ]);\n   const [selectedCategory, setSelectedCategory] = useState<string>(\"\");\n   const [newItemName, setNewItemName] = useState<string>(\"\");\n   const { user } = useAuth();\n+  // const [items, setItems] = useState<Item[]>([]);\n+  const [category, setCategory] = useState(\"\");\n+  const [suggestions, setSuggestions] = useState<string[]>([]);\n+  const [type, setType] = useState(\"place\");\n \n   useEffect(() => {\n     // Fetch categories\n     fetch(\"/api/categories\")\n@@ -63,9 +72,11 @@\n     }\n   };\n \n   return (\n-    <div className=\"p-4\">\n+    // <div className=\"p-4\">\n+    //   <h1 className=\"text-2xl font-bold mb-4\">Voting App</h1>\n+    <div className=\"p-4 bg-tg-theme-bg-color text-tg-theme-text-color\">\n       <h1 className=\"text-2xl font-bold mb-4\">Voting App</h1>\n       <select\n         value={selectedCategory}\n         onChange={(e) => setSelectedCategory(e.target.value)}\n@@ -92,9 +103,47 @@\n             Add Item\n           </button>\n         </div>\n       )}\n-      <ul>\n+      {/* <ul> */}\n+      <div className=\"p-4 bg-tg-theme-bg-color text-tg-theme-text-color\">\n+        <h1 className=\"text-2xl font-bold mb-4\">Voting App</h1>\n+        <div className=\"flex mb-4\">\n+          <div className=\"relative flex-grow\">\n+            <input\n+              type=\"text\"\n+              value={category}\n+              onChange={(e) => setCategory(e.target.value)}\n+              placeholder=\"Enter category\"\n+              className=\"w-full p-2 border rounded-l\"\n+            />\n+            {suggestions.length > 0 && (\n+              <ul className=\"absolute z-10 w-full bg-white border border-t-0 rounded-b\">\n+                {suggestions.map((suggestion, index) => (\n+                  <li\n+                    key={index}\n+                    onClick={() => setCategory(suggestion)}\n+                    className=\"p-2 hover:bg-gray-100 cursor-pointer\">\n+                    {suggestion}\n+                  </li>\n+                ))}\n+              </ul>\n+            )}\n+          </div>\n+          <select\n+            value={type}\n+            onChange={(e) => setType(e.target.value)}\n+            className=\"p-2 border border-l-0 rounded-r\">\n+            <option value=\"place\">Place</option>\n+            <option value=\"person\">Person</option>\n+            <option value=\"service\">Service</option>\n+          </select>\n+        </div>\n+        <button\n+          // onClick={fetchItems}\n+          className=\"w-full p-2 bg-tg-theme-button-color text-tg-theme-button-text-color rounded mb-4\">\n+          Search\n+        </button>\n         {items.map((item) => (\n           <li key={item.id} className=\"tg-list-item\">\n             <span>{item.name}</span>\n             <div>\n@@ -106,9 +155,11 @@\n               </button>\n             </div>\n           </li>\n         ))}\n-      </ul>\n+        {/* </ul> */}\n+      </div>\n+      //{\" \"}\n     </div>\n   );\n };\n \n"
                },
                {
                    "date": 1725359179457,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -104,9 +104,9 @@\n           </button>\n         </div>\n       )}\n       {/* <ul> */}\n-      <div className=\"p-4 bg-tg-theme-bg-color text-tg-theme-text-color\">\n+      {/* <div className=\"p-4 bg-tg-theme-bg-color text-tg-theme-text-color\">\n         <h1 className=\"text-2xl font-bold mb-4\">Voting App</h1>\n         <div className=\"flex mb-4\">\n           <div className=\"relative flex-grow\">\n             <input\n@@ -141,9 +141,9 @@\n         <button\n           // onClick={fetchItems}\n           className=\"w-full p-2 bg-tg-theme-button-color text-tg-theme-button-text-color rounded mb-4\">\n           Search\n-        </button>\n+        </button> */}\n         {items.map((item) => (\n           <li key={item.id} className=\"tg-list-item\">\n             <span>{item.name}</span>\n             <div>\n"
                },
                {
                    "date": 1725359192300,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -142,25 +142,25 @@\n           // onClick={fetchItems}\n           className=\"w-full p-2 bg-tg-theme-button-color text-tg-theme-button-text-color rounded mb-4\">\n           Search\n         </button> */}\n-        {items.map((item) => (\n-          <li key={item.id} className=\"tg-list-item\">\n-            <span>{item.name}</span>\n-            <div>\n-              <span className=\"mr-2\">Votes: {item.votes}</span>\n-              <button\n-                onClick={() => handleVote(item.id)}\n-                className=\"tg-button tg-button-primary\">\n-                Vote\n-              </button>\n-            </div>\n-          </li>\n-        ))}\n-        {/* </ul> */}\n-      </div>\n-      //{\" \"}\n+      {items.map((item) => (\n+        <li key={item.id} className=\"tg-list-item\">\n+          <span>{item.name}</span>\n+          <div>\n+            <span className=\"mr-2\">Votes: {item.votes}</span>\n+            <button\n+              onClick={() => handleVote(item.id)}\n+              className=\"tg-button tg-button-primary\">\n+              Vote\n+            </button>\n+          </div>\n+        </li>\n+      ))}\n+      {/* </ul> */}\n     </div>\n+    //{\" \"}\n+    // </div>\n   );\n };\n \n export default VotingApp;\n"
                }
            ],
            "date": 1725288469032,
            "name": "Commit-0",
            "content": "import React, { useState, useEffect } from \"react\";\nimport { useAuth } from \"@/app/contexts/AuthContext\";\n\ninterface Item {\n  id: string;\n  name: string;\n  votes: number;\n  category: string;\n}\n\nconst VotingApp: React.FC = () => {\n  const [items, setItems] = useState<Item[]>([]);\n  const [categories, setCategories] = useState<string[]>([]);\n  const [selectedCategory, setSelectedCategory] = useState<string>(\"\");\n  const [newItemName, setNewItemName] = useState<string>(\"\");\n  const { user } = useAuth();\n\n  useEffect(() => {\n    // Fetch categories\n    fetch(\"/api/categories\")\n      .then((res) => res.json())\n      .then((data) => setCategories(data));\n  }, []);\n\n  useEffect(() => {\n    if (selectedCategory) {\n      // Fetch items for selected category\n      fetch(`/api/items?category=${selectedCategory}`)\n        .then((res) => res.json())\n        .then((data) => setItems(data));\n    }\n  }, [selectedCategory]);\n\n  const handleVote = async (itemId: string) => {\n    const response = await fetch(\"/api/vote\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ itemId, userId: user?.id }),\n    });\n    if (response.ok) {\n      const updatedItem = await response.json();\n      setItems(\n        items.map((item) => (item.id === updatedItem.id ? updatedItem : item))\n      );\n    }\n  };\n\n  const handleAddItem = async () => {\n    if (newItemName && selectedCategory) {\n      const response = await fetch(\"/api/items\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ name: newItemName, category: selectedCategory }),\n      });\n      if (response.ok) {\n        const newItem = await response.json();\n        setItems([...items, newItem]);\n        setNewItemName(\"\");\n      }\n    }\n  };\n\n  return (\n    <div className=\"p-4\">\n      <h1 className=\"text-2xl font-bold mb-4\">Voting App</h1>\n      <select\n        value={selectedCategory}\n        onChange={(e) => setSelectedCategory(e.target.value)}\n        className=\"mb-4 p-2 border rounded\">\n        <option value=\"\">Select a category</option>\n        {categories.map((category) => (\n          <option key={category} value={category}>\n            {category}\n          </option>\n        ))}\n      </select>\n      {selectedCategory && (\n        <div className=\"mb-4\">\n          <input\n            type=\"text\"\n            value={newItemName}\n            onChange={(e) => setNewItemName(e.target.value)}\n            placeholder=\"New item name\"\n            className=\"p-2 border rounded mr-2\"\n          />\n          <button\n            onClick={handleAddItem}\n            className=\"p-2 bg-blue-500 text-white rounded\">\n            Add Item\n          </button>\n        </div>\n      )}\n      <ul>\n        {items.map((item) => (\n          <li\n            key={item.id}\n            className=\"mb-2 p-2 border rounded flex justify-between items-center\">\n            <span>{item.name}</span>\n            <div>\n              <span className=\"mr-2\">Votes: {item.votes}</span>\n              <button\n                onClick={() => handleVote(item.id)}\n                className=\"p-1 bg-green-500 text-white rounded\">\n                Vote\n              </button>\n            </div>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default VotingApp;\n"
        }
    ]
}